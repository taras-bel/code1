# CV Analysis with Scoring System (0-100)

## Обзор

Система анализа CV была значительно улучшена и теперь включает детальную оценку кандидатов по шкале от 0 до 100 баллов. Это позволяет более точно оценивать соответствие кандидатов требованиям вакансии и сравнивать их между собой.

## Основные возможности

### 1. Детальный анализ CV с оценками

Система анализирует CV и выставляет оценки по следующим критериям:

- **Overall Score** (0-100) - Общая оценка кандидата
- **Skills Score** (0-100) - Оценка технических навыков
- **Experience Score** (0-100) - Оценка опыта работы
- **Education Score** (0-100) - Оценка образования
- **Match Score** (0-100) - Оценка соответствия вакансии (если указано описание вакансии)

### 2. Детальная разбивка оценок

Для каждого кандидата система предоставляет детальную разбивку оценок:

```json
{
  "score_breakdown": {
    "skills_match": 90,
    "experience_relevance": 85,
    "education_quality": 75,
    "overall_impression": 88
  }
}
```

### 3. Сравнение кандидатов

Система может сравнивать нескольких кандидатов и предоставлять:

- Ранжирование кандидатов по общей оценке
- Детальные оценки по различным критериям
- Рекомендации по найму
- Метрики сравнения

## API Endpoints

### Анализ CV с оценками

```http
POST /api/v1/analysis/
```

**Request Body:**
```json
{
  "job_description": "Описание вакансии (опционально)"
}
```

**Response:**
```json
{
  "id": "analysis-uuid",
  "job_description": "Описание вакансии",
  "status": "pending|processing|completed|failed",
  "results": {
    "overall_score": 85,
    "skills_score": 90,
    "experience_score": 80,
    "education_score": 75,
    "match_score": 88,
    "skills": {
      "technical": ["Python", "FastAPI", "PostgreSQL"],
      "soft": ["Лидерство", "Коммуникация"],
      "languages": ["Русский", "Английский"]
    },
    "experience": [...],
    "education": [...],
    "strengths": [...],
    "weaknesses": [...],
    "recommendation": "Рекомендация по найму",
    "score_breakdown": {...}
  }
}
```

### Сравнение кандидатов

```http
POST /api/v1/analysis/compare-candidates
```

**Request Body:**
```json
{
  "candidates": [
    {
      "name": "Александр Петров",
      "summary": "Senior Backend Developer",
      "skills": {...},
      "experience_years": 6
    }
  ],
  "job_description": "Описание вакансии"
}
```

**Response:**
```json
{
  "comparison": [
    {
      "candidate_id": 1,
      "name": "Александр Петров",
      "overall_score": 90,
      "skills_match": 95,
      "experience_match": 100,
      "education_match": 75,
      "culture_fit": 85,
      "technical_score": 88,
      "communication_score": 82,
      "leadership_score": 78,
      "strengths": [...],
      "weaknesses": [...],
      "recommendation": "Рекомендуется к найму",
      "rank": 1
    }
  ],
  "best_candidate": 1,
  "summary": "Общее резюме сравнения",
  "comparison_metrics": {
    "total_candidates": 3,
    "average_score": 78.5,
    "score_distribution": {
      "excellent": 1,
      "good": 1,
      "average": 1,
      "below_average": 0
    }
  }
}
```

## Интерпретация оценок

### Шкала оценок

- **90-100**: Отлично - Высоко рекомендуется
- **70-89**: Хорошо - Рекомендуется
- **50-69**: Средне - Рассмотреть
- **0-49**: Ниже среднего - Не рекомендуется

### Цветовая индикация

- **Зеленый** (90-100): Отличные кандидаты
- **Синий** (70-89): Хорошие кандидаты
- **Желтый** (50-69): Средние кандидаты
- **Красный** (0-49): Слабые кандидаты

## Frontend компоненты

### Dashboard

Обновленный dashboard теперь отображает:

1. **Таблица кандидатов** с оценками от 0 до 100
2. **Визуальные индикаторы прогресса** для каждой оценки
3. **Цветовое кодирование** оценок
4. **Распределение оценок** по категориям
5. **Ссылки на детальный анализ** каждого кандидата

### Детальный анализ

Новая страница `/analysis/[id]` предоставляет:

1. **Общую оценку** с визуальным представлением
2. **Детальные оценки** по всем критериям
3. **Информацию о навыках** (технические, soft skills, языки)
4. **Сильные и слабые стороны**
5. **Опыт работы и образование**
6. **Рекомендации по найму**

### Компонент CandidateAnalysisCard

Переиспользуемый компонент для отображения анализа кандидата с:

- Прогресс-барами для всех оценок
- Цветовым кодированием
- Детальной информацией о навыках
- Сильными и слабыми сторонами

## Тестирование

Для тестирования новой функциональности используйте:

```bash
python test_cv_analysis_with_scores.py
```

Этот скрипт проверяет:

1. Анализ CV без описания вакансии
2. Анализ CV с описанием вакансии
3. Сравнение нескольких кандидатов
4. Корректность оценок в диапазоне 0-100

## Примеры использования

### 1. Анализ одного кандидата

```python
from cv_analysis.cv_analyzer import CVAnalyzer

analyzer = CVAnalyzer()
cv_text = "Текст резюме кандидата..."
job_description = "Описание вакансии..."

# Анализ с учетом вакансии
result = analyzer.analyze_cv_with_score(cv_text, job_description)
print(f"Общая оценка: {result['overall_score']}/100")
print(f"Соответствие вакансии: {result['match_score']}/100")
```

### 2. Сравнение кандидатов

```python
candidates_data = [
    {
        "name": "Кандидат 1",
        "summary": "Senior Developer",
        "skills": {"technical": ["Python", "FastAPI"]},
        "experience_years": 5
    },
    {
        "name": "Кандидат 2", 
        "summary": "Middle Developer",
        "skills": {"technical": ["Python", "Django"]},
        "experience_years": 3
    }
]

comparison = analyzer.compare_candidates(candidates_data, job_description)
print(f"Лучший кандидат: {comparison['best_candidate']}")
```

## Преимущества новой системы

1. **Точность**: Оценки от 0 до 100 позволяют более точно оценивать кандидатов
2. **Сравнимость**: Единая шкала оценок упрощает сравнение кандидатов
3. **Прозрачность**: Детальная разбивка оценок показывает, за что именно выставлена оценка
4. **Визуализация**: Цветовое кодирование и прогресс-бары упрощают восприятие
5. **Гибкость**: Система работает как с описанием вакансии, так и без него

## Будущие улучшения

1. **Машинное обучение**: Использование ML для улучшения точности оценок
2. **Персонализация**: Учет специфики компании и должности
3. **Интеграция**: Подключение к HR-системам
4. **Аналитика**: Расширенная аналитика и отчеты
5. **Мобильное приложение**: Мобильная версия для рекрутеров 